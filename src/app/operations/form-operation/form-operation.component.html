<form #operationForm="ngForm">
  <ion-item>
    <ion-label position="floating">Date</ion-label>
    <ion-datetime
    display-format="DDDD D MMMM YYYY"
    month-names="Janvier, Février, Mars, Avril, Mai, Juin, Juillet, Août, Septembre, Octobre, Novembre, Décembre"
    month-short-names="Jan, Fev, Mar, Avr, Mai, Jun, Jul, Aou, Sep, Oct, Nov, Dec"
    day-names="Dimanche, Lundi, Mardi, Mercredi, Jeudi, Vendredi, Samedi"
    day-short-names="Dim, Lun, Mar, Mer, Jeu, Ven, Sam"
    max="2100"
    doneText="OK"
    cancelText="Annuler"
    [(ngModel)]="operation.date"
    name="date"
    ></ion-datetime>
    <ion-icon class="input-end-icon" name="calendar"></ion-icon>
  </ion-item>

  <ng-container *ngIf="selectedArea; else noSelectedArea">
    <div style="text-align: center;">
        <ion-button (click)="saveOperation()" id="areaselected" position="floating"  routerLink="/tabs/tab2/area/select/" routerDirection="forward">{{ selectedArea.name }}</ion-button>
    </div>
  </ng-container>

  <ng-template #noSelectedArea>
    <div style="text-align: center;">
        <ion-button (click)="saveOperation()" position="floating"  [routerLink]="'/tabs/tab2/area/select/'">Selection d'un espace</ion-button>
    </div>
  </ng-template>



  <div id="vegetable">
    <h5>Légume</h5>
    <ion-item class="vegetable">
      <ion-label position="floating">Variété</ion-label>
      <ion-input type="text" [(ngModel)]="operation.vegetable.variety" name="variety"></ion-input>
    </ion-item>
    <ion-item class="vegetable">
      <ion-label position="floating">Nom</ion-label>
      <ion-input type="text" [(ngModel)]="operation.vegetable.name" name="name"></ion-input>
    </ion-item>
    <ion-item class="vegetable">
      <ion-label position="floating">Catégorie</ion-label>
      <ion-select cancelText="Annuler" [(ngModel)]="operation.vegetable.category.name" name="category">
        <ion-select-option *ngFor="let category of categories">{{category.name}}</ion-select-option>
      </ion-select>
    </ion-item>
    <!-- Replace this with autocomplete bar -->
    <ion-item class="vegetable">
      <ion-label position="floating">Fournisseur</ion-label>
      <ion-input type="text" [(ngModel)]="operation.supplier.name" name="supplier"></ion-input>
    </ion-item>
  </div>

  <!-- Replace this with autocomplete bar -->
  <ion-item>
    <ion-label position="floating">Libellé</ion-label>
    <ion-input type="text" [(ngModel)]="operation.label.name" name="label" required></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Observations</ion-label>
    <ion-textarea rows="5" [(ngModel)]="operation.observations" name="observations"></ion-textarea>
  </ion-item>
</form>
